#!/bin/bash

choice=$(echo -e "Speakers\nHeadphones" | dmenu -i)

case "$choice" in
	Speakers)
		# Swap device that EQ pipes to, to Speakers
		#check if ~/.config/pulse/presets/Speakers exists
		#if file exists, delete ~/.config/pule/equalizerrc and copy Speakers file over and rename to equalizerrc
		#reload equalizer
		pulseaudio-equalizer enable
		#move LADSPA stream to speakers device
		echo "Speaker set!"
		pactl move-sink-input "$(pulsemixer --list-sinks | grep LADSPA\ Stream| cut -d ' ' -f 4 | tr -d , | sed 's/.*-//')" "$(pulsemixer --list-sinks | grep Family\ 17h| grep -v LADSPA| cut -d ' ' -f 3 | tr -d , | sed 's/.*-//')"
		;;

	Headphones)
		# Swap device that EQ pipes to, to Headphones
		#check if ~/.config/pulse/presets/Headphones exists
		#if file exists, delete ~/.config/pule/equalizerrc and copy Headphones file over and rename to equalizerrc
		#reload equalizer
		pulseaudio-equalizer enable
		#move LADSPA stream to Headphones device
		echo "Headphones set!"
		pactl move-sink-input "$(pulsemixer --list-sinks | grep LADSPA\ Stream| cut -d ' ' -f 4 | tr -d , | sed 's/.*-//')" "$(pulsemixer --list-sinks | grep HyperX| grep -v LADSPA| cut -d ' ' -f 3 | tr -d , | sed 's/.*-//')"
		;;
	*)
		echo "Invalid option selected"
		;;
esac
